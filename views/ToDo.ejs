<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo List</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/CSS/todo.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div id="errorMsg" class="none"></div>

    <div id="main">
        <h1>TODO Tasks</h1>
        <div id="container1">
    <div id="n1sub1">
        <p>DESCRIPTION</p>
        <input id="Description" type="text" placeholder="What do you need to do?">
    </div>
    <div id="n1sub2">
    <div class="cat" id="category1">
        <p>Category</p>
        <select id="categorySelect">
            <option value="Personal">Personal</option>
            <option value="Work">Work</option>
            <option value="School">School</option>
            <option value="Home">Home</option>
            <option value="Other">Other</option>
        </select>
    </div>
    <div class="cat">
        <p>Due Date</p>
        <input id="Date" type="date" placeholder="dd/mm/yyyy">
    </div>
    </div>
</div>
    <div id="container2">
        <button onclick="postTask()" id="addBtn" style="background-color: rgb(12, 27, 51);" type="submit" class="twobuttons">
            + ADD TASK
        </button>
    </div>

    <div id="container4">
        <% if(tasks!=[]){ %>
            <% for(let i=tasks.length-1;i>=0;i--){ %>
                <div element="<%= tasks[i]._id %>" class="works">
                    <div class="mainpart">
                        <% if(tasks[i].isDone){ %>
                            <input id="<%= tasks[i]._id %>" checked="true" class="tick" type="checkbox">
                        <% }else{ %>
                            <input id="<%= tasks[i]._id %>" class="tick" type="checkbox">
                        <% } %>
                <div class="taskstodo">
                    <p class="DescriptionD"> <%= tasks[i].Description %></p>
                    <h3 class="dateD"> <%= tasks[i].Date %> </h3>
                </div>
                </div>
                <div class="categoryDiv">
                <div class="<%= tasks[i].Category %> categorySelect">
                    <%= tasks[i].Category %>
                </div>
                <button id="<%= tasks[i]._id %>" class="deletebtn fa fa-trash-o" style="background-color: rgb(148, 49, 49);">
                </button>
                </div>
                </div>
            <% } %>
        <% } %>
        
    </div>
</div>

<div id="logoutDiv">
    <form method="post" action="/logout">
    <button class="btn btn-secondary" type="submit">
        LOG-OUT
    </button>
    </form>
</div>

<script src="/script.js"></script>
</body>
</html>